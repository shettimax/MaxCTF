<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class CandidateOlevel extends Model
{
   protected $guarded = [];

   public function examtype()
   {
   		return OlevelExamType::find($this->exam_type_id);
   }

    public function results()
    {
        return CandidateOlevelResult::where("candidate_olevel_id","=",$this->id)
            ->join("subjects","subjects.id","=","candidate_olevel_results.subject_id")
            ->join("olevel_grades","olevel_grades.id","=","candidate_olevel_results.grade_id")
            ->select(["olevel_grades.grade","subjects.subject_description AS subject"])
            ->get();
   }
}
