<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Menu extends Model
{
    //

    public static function getTitle($route, $menu, $parentPath, $user)
    {
        if (isset($menu["route"]) && $menu["route"] == $route) {
            // echo $menu["title"];
            return [
                "title" => $menu["title"],
                "route" => $menu['route'],
                "path" => $parentPath,///."<li><a href='".($menu['route']==""?"#":route($menu["route"]))."'>".$menu["title"]."</a></li>"
                "submenu" => ""
            ];
        }

        if (isset($menu["children"])) {
            $title = "";
            $path = "";
            $route2 = "";
            $mate = "";
            foreach ($menu["children"] as $item) {
                $children = self::getTitle($route, $item, $parentPath . "<li><a href='" . ($item["route"] == "" ? "#" : route($item["route"])) . "'>" . ucfirst($item["title"]) . "</a></li>", $user);
                $title = $children['title'] != "" ? $children['title'] : $title;
                $route2 = $children['route'] != "" ? $children['route'] : $route2;
                $path = $children['path'] != "" ? $children['path'] : $path;
                $mate = $children['submenu'] != "" ? $children['submenu'] : $mate;
                //                if($title != "") break;
                if ($children['title'] != "" && $children["submenu"] == "") {

                    foreach ($menu["children"] as $link) {
                        if ($user->hasPermissionTo($link['route'])) {
                            //                            $link['route']
                            $mate .= "<li " . ($link['route'] == $route ? "class='active2'" : "") . ">
                        <a href='" . ($link["route"] == "" || $link['route'] == $route ? "#" : route($link["route"])) . "'>" . ucfirst($link["title"]) . "</a></li>";
                        }
                    }
                    break;
                }

            }
            return ["title" => $title, "route" => $route2, "path" => $path, "submenu" => $mate];
        } else {
            return ["title" => "", "route" => "", "path" => "", "submenu" => ""];
        }
    }

    public static function doMenu($menu, $user)
    {
        $buildMenu = "";
        foreach ($menu as $key => $item) {
            $show = false;
            $children = "";
            $nested = false;
            if (isset($item["children"])) {
                try {
                    $show = $item["permission"] == '' ? true : $user->hasPermissionTo(self::allPermissions($item));
                    $children = "<ul class='dropdown'>" . self::doMenu($item["children"], $user, 1) . "</ul>";
                    $nested = true;
                } catch (\Exception $e) {
                    $show = false;
                    $children = "";
                    $nested = false;
                }
            } else {
                try {

                    $show = $item["permission"] == "" ? true : $user->hasPermissionTo($item["permission"]);
                } catch (\Exception $e) {
                    $show = false;
                }
            }
            if ($show) {
                $name = $item['title'] != "" ? ucfirst($item['title']) : ucwords(str_replace("_", "  ", $key));
                $buildMenu .= "<li><a href='" . (($nested) ? "#" : route($item["route"])) . "'>$name</a>" . ($nested ? $children : "") . "</li>";
            }
        }
        return $buildMenu;
    }

    public static function allPermissions($perms)
    {
        $all = [];
        if (!isset($perms['children'])) {
            $all[] = $perms['permission'];
        } else {
            foreach ($perms['children'] as $perm) {
                $all = array_merge($all, self::allPermissions($perm));
            }

        }
        return $all;
    }

    public static function menu()
    {
        return [
            "root" => [
                "route" => "",
                "permission" => "",
                "title" => "root",
                "children" => [
                    "students" => [
                        "route" => "",
                        "permission" => "student.index",
                        "title" => "Students",
                        "children" => [
                            "search" => ["route" => "student.search", "permission" => "student.search", "title" => "Search Student"],
                            "searchcandidate" => ["route" => "student.docs.search", "permission" => "candidate.search", "title" => "Search Student's Documents"],
                            "studentpassword" => ["route" => "student.password.change", "permission" => "student.password.change", "title" => "Reset Student's Password"],
                            "graduation_list" => ["route" => "staff.student.manageexamsresult", "permission" => "staff.student.manageexamsresult", "title" => "Graduations"],
                            "registeredstudents" => ["route" => "course.registered.student", "permission" => "course.registered.student", "title" => "Students Per Course"],
                            "uploadexamsresult" => ["route" => "staff.student.uploadexamsresult", "permission" => "staff.student.uploadexamsresult", "title" => "Upload Exams Result"],
                            "manageexamsresult" => ["route" => "staff.student.manageexamsresult", "permission" => "staff.student.manageexamsresult", "title" => "Manage Exams Result"],
                            "printpgadmission" => ["route" => "student.admission.print", "permission" => "student.admission.print", "title" => "Print Admission Letter"],
                            "studentaddanddrop" => ["route" => "student.course_registration", "permission" => "student.course_registration", "title" => "Add/Drop Course"],
                            "wifi_emails" => ["route" => "staff.wifi_emails.upload", "permission" => "staff.wifi_emails.upload", "title" => "Upload Wifi Emails"]
                        ]
                    ],

                    "accomodation" => [
                        "route" => "",
                        "permission" => "accommodation.index",
                        "title" => "Accommodation",
                        "children" => [
                            "administrative_config" => [
                                "route" => "accommodation.admin.config",
                                "permission" => "accommodation.admin.config",
                                "title" => "",
                                "children" => [
                                    "config" => ["route" => "accommodation.admin.config", "permission" => "accommodation.admin.config", "title" => "Configuration"],
                                    // "hostel_config" => ["route" => "accommodation.admin.hostel.index", "permission" => "accommodation.admin.hostel.index", "title" => "Hostel Management"],
                                    // "block_config" => ["route" => "accommodation.admin.block.index", "permission" => "accommodation.admin.block.index", "title" => "Block Management"],
                                    // "room_config" => ["route" => "accommodation.admin.room.index", "permission" => "accommodation.admin.room.index", "title" => "Room Management"],
                                    // "sessional_config" => ["route" => "accommodation.admin.roomconfig.index", "permission" => "accommodation.roomconfig.hostel.index", "title" => "Sessional Accommodation Configuration"],
                                ]
                            ],
                            "administrative_action" => [
                                "route" => "accommodation.admin.accommodationaction",
                                "permission" => "accommodation.admin.accommodationaction",
                                "title" => "",
                                "children" => [
                                    "schedule" => ["route" => "accommodation.admin.accommodationaction", "permission" => "accommodation.admin.accommodationaction", "title" => "Accommodation Schedule"],
                                    "hostel_config" => ["route" => "accommodation.admin.hostel.index", "permission" => "accommodation.admin.hostel.index", "title" => "Hostel Management"],
                                    "block_config" => ["route" => "accommodation.admin.block.index", "permission" => "accommodation.admin.block.index", "title" => "Block Management"],
                                    "room_config" => ["route" => "accommodation.admin.room.index", "permission" => "accommodation.admin.room.index", "title" => "Room Management"],
                                    "sessional_config" => ["route" => "accommodation.admin.roomconfig.index", "permission" => "accommodation.roomconfig.hostel.index", "title" => "Sessional Accommodation Configuration"],
                                ]
                            ],
                            "administrative_reservation" => [
                                "route" => "accommodation.admin.backendaccommodationprocess",
                                "permission" => "accommodation.admin.backendaccommodationprocess",
                                "title" => "",
                                "children" => [
                                    "individual_reservation" => ["route" => "accommodation.admin.backendaccommodationprocess", "permission" => "accommodation.admin.backendaccommodationprocess", "title" => "Individual Reservation"],
                                    "bulk_reservation" => ["route" => "accommodation.admin.bulkreservation", "permission" => "accommodation.admin.backendaccommodationprocess", "title" => "Bulk Reservation"],
                                    "expire_reservation" => ["route" => "accommodation.admin.reservations.expired", "permission" => "accommodation.admin.backendaccommodationprocess", "title" => "Expire Reservation"],

                                ]
                            ],

                            "reports" => [
                                "route" => "",
                                "permission" => "",
                                "title" => "",
                                "children" => [
                                    "student_accommodation_status" => ["route" => "accommodation.admin.report.studentaccstatus", "permission" => "accommodation.admin.report.studentaccstatus", "title" => ""],
                                    "general_report" => ["route" => "accommodation.admin.report.generalaccreport", "permission" => "accommodation.admin.report.generalaccreport", "title" => ""],
                                    "room_occupancy" => ["route" => "reports.room_occupancy", "permission" => "reports.room_occupancy", "title" => ""],
                                    "general_payment_report" => ["route" => "accommodation.reports.payment.general", "permission" => "accommodation.reports.payment.general", "title" => "Payment Report"],
                                    "reservation_report" => ["route" => "accommodation.reports.reservation", "permission" => "accommodation.reports.reservation", "title" => "Reservation Report"],
                                    "roomoccupants_report" => ["route" => "accommodation.reports.occupants", "permission" => "accommodation.reports.occupants", "title" => "Room Occupants Report"],
                                    "reservations_payment_report" => ["route" => "accommodation.reports.reservationspayment", "permission" => "accommodation.reports.reservationspayment", "title" => "Reservations Payment Report"],
                                    "reservations_analytics_report" => ["route" => "accommodation.reports.reservationsanalytics", "permission" => "accommodation.reports.reservationsanalytics", "title" => "Reservations Analytics Report"],
                                    "reservations_by_matric_numbers_report" => ["route" => "accommodation.reports.reservationsbymatricnumbers", "permission" => "accommodation.reports.reservationsbymatricnumbers", "title" => "Reservations by Matric Numbers Report"],
                                    "reservations_general_report" => ["route" => "accommodation.reports.reservations.general", "permission" => "accommodation.reports.reservations.general", "title" => "Reservations General Report"],
                                ]
                            ]
                        ]
                    ],
                    "settings" => [
                        "route" => "",
                        "permission" => "settings.index",
                        "title" => "Settings",
                        "children" => [
                            "manage_fees" => [
                                "route" => "",
                                "permission" => "settings.managefees.index",
                                "title" => "Manage Fee Settings",
                                "children" => [
                                    "sessional_fees" => ["route" => "sessional.fees", "permission" => "sessional.fees", "title" => "Sessional Fees"],
                                    "fee_items" => ["route" => "feeitem", "permission" => "feeitem", "title" => "Fee Items"],
                                    "forms_setting" => ["route" => "feesettings", "permission" => "feesettings", "title" => "Form Settings"],

                                    "fees_profile" => ["route" => "paymentforwhat", "permission" => "paymentforwhat", "title" => "Fees Profile"],
                                    "spgs_fees_profile" => ["route" => "spgs.paymentprofile", "permission" => "spgs.paymentprofile", "title" => "SPGS Fees Profile"],
                                    "payment_option" => ["route" => "payment.option.index", "permission" => "payment.option.index", "title" => "Payment Option"],
                                    "flexible_payment_resource" => ["route" => "paymentforwhat", "permission" => "paymentforwhat", "title" => "Flexible Payment Resource"],
                                    "flexible_payment_restrictions" => ["route" => "paymentforwhat", "permission" => "paymentforwhat", "title" => "Flexible Payment Restriction"],
                                ]
                            ],

                            "forms_setting" => [
                                "route" => "",
                                "permission" => "pgformsettings",
                                "title" => "Form Settings",
                                "children" => [
                                    "pg_forms" => ["route" => "pgformsettings", "permission" => "pgformsettings", "title" => "SPGS Forms Setting"],
                                    "ug_forms" => ["route" => "ugformsettings", "permission" => "ugformsettings", "title" => "UG Forms Setting"],
                                    "dp_forms" => ["route" => "dpformsettings", "permission" => "dpformsettings", "title" => "DP Forms Setting"]
                                ]
                            ],

                            "registration_period" => [
                                "route" => "",
                                "permission" => "registration.ug",
                                "title" => "Set Registration Period",
                                "children" => [
                                    "registration_period_lvt" => ["route" => "registration.lvt", "permission" => "registration.lvt", "title" => "Long Vocation Term (LVT)"],
                                    "registration_period_spgs" => ["route" => "registration.spgs", "permission" => "registration.spgs", "title" => "SPGS Registration Period"],
                                    "registration_period_undergraduate" => ["route" => "registration.ug", "permission" => "registration.ug", "title" => "UG Registration Period"],
                                    "registration_period_diploma" => ["route" => "registration.diploma", "permission" => "registration.diploma", "title" => "Diploma Registration Period"],
                                    "resits" => ["route" => "resits", "permission" => "resits", "title" => "Resits"]
                                ]
                            ],
                            "session_mapping" => [
                                "route" => "registration",
                                "permission" => "registration",
                                "title" => "Session Mapping"
                            ]
                        ]
                    ],

                    "administrator" => [
                        "route" => "",
                        "permission" => "administrator.index",
                        "title" => "Administrator",
                        "children" => [
                            "manage_config" => ["route" => "configuration", "permission" => "configuration", "title" => "Manage Configuration"],
                            "manage_complex" => ["route" => "complex", "permission" => "complex", "title" => "Manage Complex"],
                            "manage_cadres" => ["route" => "cadres", "permission" => "cadres", "title" => "Manage cadres"],
                            "manage_ranks" => ["route" => "ranks", "permission" => "ranks", "title" => "Manage ranks"],
                            "manage_faculty" => ["route" => "faculty", "permission" => "faculty", "title" => "Manage Faculties"],
                            "manage_departments" => ["route" => "admin.department", "permission" => "admin.department", "title" => "Manage Departments"],
                            "manage_programmes" => ["route" => "admin.programme", "permission" => "admin.programme", "title" => "Manage Programmes"],
                            "manage_courses" => ["route" => "course", "permission" => "course", "title" => "Manage Courses"],
                            "manage_course_groups" => ["route" => "coursegroup.index", "permission" => "coursegroup.index", "title" => "Manage Course Groups"],
                            "manage_degree_plans" => ["route" => "degreeplan", "permission" => "degreeplan", "title" => "Manage Degree Plans"],
                            "set" => [
                                "route" => "",
                                "permission" => "set.index",
                                "title" => "SET",
                                "children" => [
                                    "config" => ["route" => "staff.set.config", "permission" => "staff.set.config", "title" => "Config"],
                                    "manage_question" => ["route" => "staff.set.questions.retrieve", "permission" => "staff.set.questions.retrieve", "title" => "Manage Questions"],
                                    "question_category" => ["route" => "staff.set.question.categories.retrieve", "permission" => "staff.set.question.categories.retrieve", "title" => "Question Category"],
                                ]
                            ],
                            "verifyit" => ["route" => "verifyit.download", "permission" => "degreeplan", "title" => "VerifyIt Download"],
                            "idcard" => [
                                "route" => "",
                                "permission" => "idcard.index",
                                "title" => "IDCards",
                                "children" => [
                                    "student" => ["route" => "idcard.printstudentidcards", "permission" => "idcard.printstudentidcards", "title" => "Student"],
                                    "staff" => ["route" => "idcard.printstaffidcards", "permission" => "idcard.printstaffidcards", "title" => "Staff"],
                                    "printed" => ["route" => "idcard.printedcards", "permission" => "idcard.printedcards", "title" => "Printed Cards"],
                                    "upload_printed" => ["route" => "idcard.printedcards.upload", "permission" => "idcard.printedcards.upload", "title" => "Upload Printed"],
                                ]
                            ],
                            "upload_payslip" => ["route" => "staff.payslip.upload", "permission" => "staff.payslip.upload", "title" => "Upload Payslip"]
                        ]
                    ],

                    "myteaching" => [
                        "route" => "",
                        "permission" => "",
                        "title" => "Teachings",
                        "children" => [
                            "teaching" => ["route" => "myteaching.index", "permission" => "", "title" => "My Teaching"],
                            "teaching_time_table" => ["route" => "myteaching.courses_to_timetable", "permission" => "", "title" => "My Teaching Time Table"],
                            "result" => [
                                "route" => "",
                                "permission" => "",
                                "title" => "Result",
                                "children" => [
                                    "marksheet" => ["route" => "staff.examslogic.create", "permission" => "", "title" => "Marksheet"],
                                    "resultsheet" => ["route" => "staff.examslogic.fileupload", "permission" => "", "title" => "Upload Resultsheet"]

                                ]
                            ]
                        ]
                    ],

                    "admission" => [
                        "route" => "",
                        "permission" => "staff.admission.index",
                        "title" => "Admissions",
                        "children" => [
                            "upload_exam_score" => ["route" => "staff.candidate.uploadexamscore", "permission" => "staff.candidate.uploadexamscore", "title" => "Upload Exams Score"],
                            "upload_admission" => ["route" => "staff.student.uploadadmission", "permission" => "staff.student.uploadadmission", "title" => "Upload Admission"],
                            "uploadapplicant" => ["route" => "candidate.add.bulk", "permission" => "candidate.add.bulk", "title" => "Upload UTME Applicants"],
                            "uploadprogrammechange" => ["route" => "candidate.update.programme.bulk", "permission" => "candidate.update.programme.bulk", "title" => "Upload Programme Change(UTME/DE)"],
                            "screening" => ["route" => "staff.putme.screening", "permission" => "staff.putme.screening", "title" => "Exam Screening"],
                            "admittedcandidate" => ["route" => "staff.search.candidate", "permission" => "staff.search.candidate", "title" => "Screening Admitted Candidate"],
                            "changepassword" => ["route" => "candidate.password.change", "permission" => "candidate.password.change", "title" => "Change Candidate Password"],
                            "searchcandidate" => ["route" => "candidate.search", "permission" => "candidate.search", "title" => "Search Candidate"],
                            "Grad Passports" => ["route" => "graduate.pics", "permission" => "graduate.pics", "title" => "Download Passports"],

                        ]
                    ],

                    "reports" => [
                        "route" => "",
                        "permission" => "report.index",
                        "title" => "Reports",
                        "children" => [
                            "admin" => [
                                "route" => "",
                                "permission" => "admin.report.index",
                                "title" => "Admin",
                                "children" => [
                                    "courses" => ["route" => "reports.admin.courses", "permission" => "reports.admin.courses", "title" => "Courses"],
                                    "programmes" => ["route" => "reports.admin.programmes", "permission" => "reports.admin.programmes", "title" => "Programmes"],
                                    "departments" => ["route" => "reports.admin.departments", "permission" => "reports.admin.departments", "title" => "Departments"],
                                    "faculties" => ["route" => "reports.admin.faculties", "permission" => "reports.admin.faculties", "title" => "Faculties"],
                                    "generalstatistics" => ["route" => "reports.general.statistics.index", "permission" => "reports.general.statistics.index", "title" => "General Statistics"]
                                ]
                            ],
                            "student" => [
                                "route" => "",
                                "permission" => "student.report.index",
                                "title" => "Student",
                                "children" => [
                                    "general" => ["route" => "reports.students.general", "permission" => "reports.students.general", "title" => "General"],
                                    "parameterised" => ["route" => "reports.students.parameterised", "permission" => "reports.students.parameterised", "title" => "Parameterised"],
                                    "biodata_for_examslogic" => ["route" => "reports.students.forexamslogic", "permission" => "reports.students.forexamslogic", "title" => "Biodata for ExamsLOGIC"],
                                    "bystatus" => ["route" => "reports.students.bystatus", "permission" => "reports.students.bystatus", "title" => "by Status"],
                                    "bylga" => ["route" => "reports.students.bystateandlga", "permission" => "reports.students.bystateandlga", "title" => "by LGA"],
                                    "admission" => ["route" => "reports.students.admitted", "permission" => "reports.students.admitted", "title" => "Admission"],
                                    "transfer" => ["route" => "reports.students.transfer", "permission" => "reports.students.transfer", "title" => "Inter-Faculty Transfer"],
                                    "statistic_by_state" => ["route" => "reports.students.statisticsbystate", "permission" => "reports.students.statisticsbystate", "title" => "Statistics by State"],
                                    "statistic_by_level" => ["route" => "reports.students.statisticsbylevel", "permission" => "reports.students.statisticsbylevel", "title" => "Statistics by Level"],
                                    "statistic_by_admission" => ["route" => "reports.students.statisticsbyadmission", "permission" => "reports.students.statisticsbyadmission", "title" => "Statistics by Admission"],
                                    "analytics_by_admission" => ["route" => "reports.students.analyticsbyadmission", "permission" => "reports.students.analyticsbyadmission", "title" => "Analytics by Admission"],
                                    "programme_analytics" => ["route" => "reports.students.programme_analytics", "permission" => "reports.students.programme_analytics", "title" => "Programme Analytics"],
                                    "statistics_by_programme_type" => ["route" => "reports.students.statistics-by-programme-type", "permission" => "reports.students.statistics-by-programme-type", "title" => "Stat by ProgType"],
                                ]
                            ],

                            "payment" => [
                                "route" => "",
                                "permission" => "payment.report.index",
                                "title" => "Payment",
                                "children" => [
                                    "by_fee_types" => ["route" => "reports.payments.byfeetype", "permission" => "reports.payments.byfeetype", "title" => "by Fee Types"],
                                    "by_fee_items" => ["route" => "reports.payments.byfeeitem", "permission" => "reports.payments.byfeeitem", "title" => "by Fee Items"],
                                    "by_method" => ["route" => "reports.payments.bymethod", "permission" => "reports.payments.bymethod", "title" => "by Method"],
                                    "by_fee_items_sum" => ["route" => "reports.payments.byfeeitem_sum", "permission" => "reports.payments.byfeeitem_sum", "title" => "Fee Items Summary"],
                                    "fee_structure" => ["route" => "reports.fee-structure", "permission" => "reports.payments.byfeetype", "title" => "By Fee Structure"],
                                    "programme_fee" => ["route" => "reports.programme-fees", "permission" => "reports.payments.byfeetype", "title" => "By Programme Fee"],
                                    "fee_collection" => ["route" => "reports.fee-collection", "permission" => "reports.payments.byfeetype", "title" => "By Fee Collection"],
                                    "sundry_charges" => ["route" => "reports.payments.sundrycharges", "permission" => "reports.payments.byfeetype", "title" => "Sundary Charges"],
                                    "wallet_bulk_payments" => ["route" => "bulk.transaction", "permission" => "bulk.transaction", "title" => "Wallet Bulk Payments"],
                                ]
                            ],

                            "course_registration" => [
                                "route" => "",
                                "permission" => "course.registration.report.index",
                                "title" => "Course Registration",
                                "children" => [
                                    "by_course_code" => ["route" => "reports.courseregistration.bycoursecode", "permission" => "reports.courseregistration.bycoursecode", "title" => "by Course Code"],
                                    "by_credit_units" => ["route" => "reports.courseregistration.bycreditunit", "permission" => "reports.courseregistration.bycreditunit", "title" => "by Credit Units"],
                                    "registered_courses" => ["route" => "reports.courseregistration.registeredcourses", "permission" => "reports.courseregistration.registeredcourses", "title" => "Registered Courses"],
                                    "course_statistics" => ["route" => "reports.courseregistration.statistics", "permission" => "reports.courseregistration.statistics", "title" => "Courses Statistics"],
                                    "course_number" => ["route" => "reports.courseregistration.unitnumber", "permission" => "reports.courseregistration.unitnumber", "title" => "Courses Unit/Number"],
                                    "resit_registered_courses" => ["route" => "reports.courseregistration.resitcourses", "permission" => "reports.courseregistration.resitcourses", "title" => "Resit Registered Courses"],
                                    //"for_examslogis" => ["route" => "reports.courseregistration.forexamslogic", "permission" => "reports.courseregistration.forexamslogic", "title" => "for ExamsLOGIC"],
                                ]
                            ],

                            "candidate" => [
                                "route" => "",
                                "permission" => "",
                                "title" => "Candidate",
                                "children" => [
                                    "applicant" => ["route" => "reports.candidate.applicant", "permission" => "reports.candidate.applicant", "title" => "Applicant"],
                                    "flashdrives" => ["route" => "reports.candidate.flash", "permission" => "reports.candidate.flash", "title" => "Flash Drives Collection"],
                                    "screening" => ["route" => "reports.candidate.screen", "permission" => "reports.candidate.screen", "title" => "Candidates Screening"],
                                    "formpurchase" => ["route" => "reports.candidate.category", "permission" => "reports.candidate.category", "title" => "Form Purchase"],
                                    "admissionstatistics" => ["route" => "reports.admission.statistics.index", "permission" => "reports.admission.statistics.index", "title" => "Admission Statistics"],
                                    "pending_form_purchase" => ["route" => "reports.forms.unpaid.index", "permission" => "reports.forms.unpaid.index", "title" => "Pending Form Purchase"],

                                ]
                            ],
                            "resit" => [
                                "route" => "",
                                "permission" => "",
                                "title" => "Resit",
                                "children" => [
                                    //                                    "report" => ["route" => "reports.resit.report", "permission" => "reports.resit.report", "title" => "Student Resit Report"],
                                    //                                    "statistics" => ["route" => "reports.resit.statistics", "permission" => "reports.resit.statistics", "title" => "Statistics"],
                                    "percourse" => ["route" => "reports.resit.per-course", "permission" => "reports.resit.report", "title" => "By Course"],

                                ]
                            ],
                            "student_evaluation_teaching" => ["route" => "reports.set.index", "permission" => "reports.set.index", "title" => "SET"],
                        ],
                    ],


                    "users" => [
                        "route" => "",
                        "permission" => "users.index",
                        "title" => "Users",
                        "children" => [
                            "authorized_user" => ["route" => "user.view", "permission" => "user.view", "title" => "Authorized User"],
                            "manage_role" => ["route" => "staff.user.authorization.role.permission.index", "permission" => "permission", "title" => "Manage Role"],
                            "manage_staff" => ["route" => "staff.create", "permission" => "staff.create", "title" => "Manage Staff"],
                            "search_staff" => ["route" => "staff.search", "permission" => "staff.search", "title" => "Search Staff"],
                            "reset_staff_password" => ["route" => "staff.password.change", "permission" => "staff.password.change", "title" => "Reset Staff Password"],
                            "update_personel_number" => ["route" => "staff.personnel.number.update", "permission" => "staff.personnel.number.update", "title" => "Update Staff P. No"],
                            "populate_promotion_recommendation" => ["route" => "staff.promotion.recommendation.populate.form", "permission" => "staff.promotion.recommendation.populate", "title" => "Populate Promotion Recommendation"],
                        ]
                    ],

                    "configuration" => [
                        "route" => "",
                        "permission" => "",
                        "title" => "Configuration",
                        "children" => [
                            "configuration" => ["route" => "staff.configuration.index", "permission" => "staff.configuration.index", "title" => "Configuration"],
                            "examcard" => ["route" => "staff.configuration.exam.card", "permission" => "staff.configuration.exam.card", "title" => "Exam Card"],
                            //                            "examcard" => ["route" => "staff.configuration.exam.card", "permission" => "staff.configuration.exam.card", "title" => "Exam Card"]
                        ]

                    ],

                    "Promotions" => [
                        "route" => "",
                        "permission" => "",
                        "title" => "Promotion",
                        "children" => [
                            "report" => ["route" => "promotion.report", "permission" => "promotion.report", "title" => "Report"],
                            "apc_report" => ["route" => "promotion.main.report", "permission" => "promotion.main.report", "title" => "AP&C Report"],
                            "staff_hod_summary" => ["route" => "promotion.get.staff.unit", "permission" => "promotion.get.staff.unit", "title" => "HOD Recommendation"],
                            "staff_dean_summary" => ["route" => "promotion.get.staff.deanery", "permission" => "promotion.get.staff.deanery", "title" => "Dean Recommendation"],
                            "staff_complex_summary" => ["route" => "promotion.get.staff.complex", "permission" => "promotion.get.staff.complex", "title" => "Complex Chair Recommendation"],
                            "central_apc" => ["route" => "promotion.central.apc", "permission" => "promotion.central.apc", "title" => "Central APC"],
                            "promotion.council" => ["route" => "promotion.council", "permission" => "promotion.council", "title" => "Council Approval"],
                            "unit_report" => ["route" => "promotion.unit.remark", "permission" => "promotion.unit.remark", "title" => "Unit Report"],
                            "faculty_report" => ["route" => "promotion.faculty.remark", "permission" => "promotion.faculty.remark", "title" => "Faculty Report"],
                            "promoted_report" => ["route" => "promotion.promoted.report", "permission" => "promotion.promoted.report", "title" => "Promoted Report"],
                            "recommended_cases" => ["route" => "promotion.recommended.cases", "permission" => "promotion.recommended.cases", "title" => "Recommended Cases"],
                            "withdrawal_cases" => ["route" => "promotion.withdrawal.index", "permission" => "promotion.withdrawal.index", "title" => "Withdrawal Cases"],
                        ]
                    ],

                ]
            ]
        ];
    }

    public static function check($errors)
    {
        $arr = Candidate::$signuprules;
        foreach ($arr as $key => $value) {
            if ($errors->has($key))
                return false;
        }

        return true;
    }

    public static function timerVariable($timeStamp, $type = "Username")
    {
        $part1 = $type . substr($timeStamp, 0, -3);
        $pivot = substr($timeStamp, -3, 2);

        if ($pivot <= 40) {
            return md5($part1 . '200');
        } elseif ($pivot <= 80) {
            return md5($part1 . '800');
        } else {
            return md5($part1 . '100');
        }
    }
}
