<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>ABU PAYSLIP</title>
        <!-- Google Font: Source Sans Pro -->
     <!-- disable googleapis url:<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
     -->
     
     <link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css') }}">
     <link rel="stylesheet" href="{{ asset('assets/css/all.min.css') }}">
     <link rel="stylesheet" href="{{ asset('assets/css/themify-icons.css') }}">        <style>
        .row{
        flex-wrap: nowrap;
        }
        @media print {
        @page {
        size: A4;   /* auto is the current printer page size */
        margin-top: 0mm;
        margin-bottom: 0mm;
        margin-left: auto;
        margin-right: auto;
        }
        .btn-print{visibility: hidden;}
        .container {
        page-break-inside: avoid;
        page-break-after: always;
        }
        .container{
            display: inline;
        }
        .container:last-child {
        page-break-after: auto;
         }

        .col-print-1 {width:8%;  float:left;}
        .col-print-2 {width:16%; float:left;}
        .col-print-3 {width:25%; float:left;}
        .col-print-4 {width:33%; float:left;}
        .col-print-5 {width:42%; float:left;}
        .col-print-6 {width:50%; float:left;}
        .col-print-7 {width:58%; float:left;}
        .col-print-8 {width:66%; float:left;}
        .col-print-9 {width:75%; float:left;}
        .col-print-10{width:83%; float:left;}
        .col-print-11{width:92%; float:left;}
        .col-print-12{width:100%; float:left;}

        }
        p{
        margin-top: 2px;
        margin-bottom: 2px;
        }
         
        </style>
    </head>
    <body>
        <div class="container mt-4">
             <div class="row">
                <div class="col-md-12 col-print-12" style="text-align: right;font-size:10px;margin-bottom: -10px;"><a href="javascript:window.print()" style="border: 1px  #0c5460 solid;font-size:10px; " class="btn btn-default btn-print">Print</a></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-2 col-print-2" style="text-align: right;"><img src="{{ asset('images/logo64.png') }}" style="width: 75px; height: 75px;" />  
                </div>
                <div class="col-md-8 col-print-8" style="text-align: center; display: block;"> <h4 style="text-decoration: underline;">AHMADU BELLO UNIVERSITY ZARIA <br>PAYSLIP</h4>
                </div>
                <div class="col-md-2 col-print-2"></div>   
            </div>
            
            <div class="row" style="border-top: solid;">
                <div class="col-md-5 col-print-5"><p><span style="font-weight: bolder; text-decoration: underline;">EMPLOY NO</span>&nbsp;&nbsp;{{ $payslip->personnelno??'' }} </p></div>
                <div class="col-md-4 col-print-4"><p><span style="font-weight: bolder; text-decoration: underline;">NAME </span>&nbsp;&nbsp;{{ $payslip->name??'' }}</p></div>
                 <div class="col-md-3 col-print-3"><p><span style="font-weight: bolder; text-decoration: underline;">GRADE RANK</span>&nbsp;&nbsp; {{ $payslip->grade??'' }}</p>
                 </div>
             </div>
            <div class="row" style="border-bottom: solid;">
                <div class="col-md-5 col-print-5"><p><span style="font-weight: bolder; text-decoration: underline;">DIVISION </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ $payslip->faculty??'' }}</p></div>
                 <div class="col-md-4 col-print-4"><p><span style="font-weight: bolder; text-decoration: underline;">BANK</span>&nbsp;&nbsp;&nbsp;&nbsp;{{ $payslip->bank??'' }}</p></div>
                 <div class="col-md-3 col-print-3"></div>
            </div>
            <div class="row">
                <div class="col-md-5 col-print-5"><p><span style="font-weight: bolder; text-decoration: underline;">S/No.</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: bolder; text-decoration: underline;">Code</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: bolder; text-decoration: underline;">Description</span></p>
                </div>
                <div class="col-md-1 col-print-1"><span style="font-weight: bolder; text-decoration: underline;">Month</span></div>
                <div class="col-md-1 col-print-1"><span style="font-weight: bolder; text-decoration: underline;">Grade</span></div>
                <div class="col-md-2 col-print-2"><span style="font-weight: bolder; text-decoration: underline;">BANK ACCT NO</span></div>
                <div class="col-md-1 col-print-1" style="text-align: right;"><span style="font-weight: bolder; text-decoration: underline;">&#8358;</span></div>
                <div class="col-md-2 col-print-2" style="text-align: right;"><span style="font-weight: bolder; text-decoration: underline;">&#8358;</span></div>
            </div>
            <?php
            $earnings = explode("|", $payslip->earnings);
            // $earnings=array_slice($earnings,0,-1);
            $len = count($earnings);
            $earning=isset($earnings[0])?$earnings[0]:'';
            $arrearns = preg_split("/[\s]+/", trim($earning));
            
            $items = array_slice($arrearns, 2, -3);
            
            $items = implode(" ", $items);
            ?>
            <div class="row" >
                <div class="col-md-5 col-print-5"><p>{{ $arrearns[0]??'' }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ $arrearns[1]??'' }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ $items??'' }}</p>
                </div>
                 
                <div class="col-md-1 col-print-1">{{ $payslip->month??'' }}</div>
                <div class="col-md-3 col-print-3">{{ $payslip->grade??'' }}</div>
                 <div class="col-md-1 col-print-1" style="text-align: right;">{{ isset($arrearns[7])?number_format($arrearns[7],2):'' }}</div>
                <div class="col-md-2 col-print-2" style="text-align: right;">{{ isset($arrearns[7])?number_format($arrearns[7],2):'' }}
                </div>
            </div>
            <?php
            for ($j=1; $j < $len-1; $j++){
            $earning=isset($earnings[$j])?$earnings[$j]:'';
            $arrearns = preg_split("/[\s]+/", trim($earning));
            
            $items = array_slice($arrearns, 2, -3);
            
            $items = implode(" ", $items);
            ?>
            <div class="row" >
                 <div class="col-md-9 col-print-9"> {{ $arrearns[0]??null }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ $arrearns[1]??null }}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ $items??null }}</p>
                </div>
                 <div class="col-md-1 col-print-1" style="text-align: right;">{{ isset($arrearns[7])?number_format($arrearns[7],2):'' }}</div>
                <div class="col-md-2 col-print-2" style="text-align: right;">{{ isset($arrearns[7])?number_format($arrearns[7],2):'' }}</div>
            </div>
            <?php };
            
            ?>
            <div class="row" style="border-bottom: solid;">
                <div class="col-md-4 col-print-4"></div>
                <div class="col-md-3 col-print-3" style="font-weight: bolder;">Gross earnings for -----></div>
                <div class="col-md-1 col-print-1">{{ $payslip->month??''}}</div>
                <div class="col-md-1 col-print-1">{{ $payslip->year??''}}</div>
            <div class="col-md-1 col-print-1" style="border-top: solid; border-bottom: solid; font-weight: bolder; margin-bottom: 4px; text-align: right;">{{isset($payslip->netpay)?number_format($payslip->netpay,2):''}}</div>
            <div class="col-md-2 col-print-2" style="border-top: solid; border-bottom: solid; font-weight: bolder; margin-bottom: 4px; text-align: right;">{{isset($payslip->netpay)?number_format($payslip->netpay,2):''}}</div>
            </div>
             
        </div>
        <script class="noprint" src="{{ asset('assets/js/jquery-3.4.1.min.js') }}"></script>
        <script class="noprint" src="{{ asset('assets/js/bootstrap.min.js') }}"></script>
    </body>
</html>